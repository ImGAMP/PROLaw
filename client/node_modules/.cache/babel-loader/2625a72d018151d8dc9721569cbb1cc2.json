{"remainingRequest":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\Forum.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\Forum.vue","mtime":1627270239523},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1627159273000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEZvcnVtQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVyL0ZvcnVtQ29udHJvbGxlci5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBmb3JvQ29udHJvbGxlcjogbnVsbCwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mb3JvQ29udHJvbGxlciA9IG5ldyBGb3J1bUNvbnRyb2xsZXIoKTsKICAgIHRoaXMuZ2V0Q2FzZSgpOwogICAgY29uc29sZS5sb2codGhpcy4kcm9vdC5pZCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJlZ3VudGE6ICcnLAogICAgICBydGFzOiBbewogICAgICAgIG5hbWVVc2VyOiAnJywKICAgICAgICBkYXRlQW5zOiAnJywKICAgICAgICBkZXNjcmlwQW5zOiAnJwogICAgICB9XSwKICAgICAgcmVzcHVlc3RhOiB7CiAgICAgICAgaWRDOiAnJywKICAgICAgICBpZFVzZXJBOiB0aGlzLiRyb290LmlkLAogICAgICAgIGRlc2NyaXBBbnM6ICcnLAogICAgICAgIG5hbWVVc2VyOiB0aGlzLiRyb290LnVzZXIKICAgICAgfSwKICAgICAgZGlzcGxheTogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLnByZWd1bnRhKSB7CiAgICAgIHRoaXMucHJlZ3VudGEgPSBsb2NhbFN0b3JhZ2UucHJlZ3VudGE7CiAgICB9IGVsc2UgewogICAgICBsb2NhbFN0b3JhZ2UucHJlZ3VudGEgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucXRuOyAvL3RoaXMucHJlZ3VudGEgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucXRuOwogICAgfQogICAgLyppZiAobG9jYWxTdG9yYWdlLnJ0YXMpIHsKICAgICAgICB0aGlzLnJ0YXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJydGFzIikpOwogICAgICAgIC8vY29uc29sZS5sb2codGhpcy5ydGFzKTsKICAgIH0gZWxzZSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJ0YXMgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucnRhOwogICAgICAgIC8vdGhpcy5ydGFzID0gdGhpcy4kcm91dGUucGFyYW1zLnJ0YTsKICAgIH0qLwoKCiAgICBpZiAobG9jYWxTdG9yYWdlLmlkQykgewogICAgICB0aGlzLnJlc3B1ZXN0YS5pZEMgPSBsb2NhbFN0b3JhZ2UuaWRDOwogICAgfSBlbHNlIHsKICAgICAgbG9jYWxTdG9yYWdlLnByZWd1bnRhID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOyAvL3RoaXMucHJlZ3VudGEgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucXRuOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2FzZTogZnVuY3Rpb24gZ2V0Q2FzZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5mb3JvQ29udHJvbGxlci5nZXRRdWVzdGlvbihsb2NhbFN0b3JhZ2UuaWRDKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBpZiAoZGF0YS5kYXRhLmFuc3dlcnNbMF0gIT0gbnVsbCkgewogICAgICAgICAgICBfdGhpcy5ydGFzID0gZGF0YS5kYXRhLmFuc3dlcnM7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnJ0YXMpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChfdW51c2VkKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIENvbm5lY3Rpb24iKTsKICAgICAgfQogICAgfSwKICAgIGd1YXJkYXI6IGZ1bmN0aW9uIGd1YXJkYXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJvb3Qucm9sID09ICJMIikgewogICAgICAgIHRoaXMuZm9yb0NvbnRyb2xsZXIuc2F2ZUFuc3dlcih0aGlzLnJlc3B1ZXN0YSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgX3RoaXMyLmdldENhc2UoKTsKCiAgICAgICAgICBfdGhpczIucmVzcHVlc3RhLmRlc2NyaXBBbnMgPSAnJzsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlzcGxheSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBhY2VwdDogZnVuY3Rpb24gYWNlcHQoKSB7CiAgICAgIHRoaXMuZGlzcGxheSA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\Forum.vue"],"names":[],"mappings":"AAsCA,OAAO,eAAP,MAA4B,kCAA5B;AACA,eAAe;AACX,EAAA,cAAc,EAAE,IADL;AAEX,EAAA,OAFW,qBAED;AACN,SAAK,cAAL,GAAsB,IAAI,eAAJ,EAAtB;AACA,SAAK,OAAL;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,KAAK,KAAL,CAAW,EAAvB;AACH,GANU;AAOX,EAAA,IAPW,kBAOL;AACF,WAAM;AACF,MAAA,QAAQ,EAAE,EADR;AAEF,MAAA,IAAI,EAAE,CACF;AACI,QAAA,QAAQ,EAAE,EADd;AAEI,QAAA,OAAO,EAAE,EAFb;AAGI,QAAA,UAAU,EAAE;AAHhB,OADE,CAFJ;AASF,MAAA,SAAS,EAAE;AACP,QAAA,GAAG,EAAE,EADE;AAEP,QAAA,OAAO,EAAE,KAAK,KAAL,CAAW,EAFb;AAGP,QAAA,UAAU,EAAE,EAHL;AAIP,QAAA,QAAQ,EAAE,KAAK,KAAL,CAAW;AAJd,OATT;AAeF,MAAA,OAAO,EAAE;AAfP,KAAN;AAiBH,GAzBU;AA0BX,EAAA,OA1BW,qBA0BD;AACN,QAAI,YAAY,CAAC,QAAjB,EAA2B;AACvB,WAAK,QAAL,GAAgB,YAAY,CAAC,QAA7B;AACJ,KAFA,MAEO;AACH,MAAA,YAAY,CAAC,QAAb,GAAwB,KAAK,MAAL,CAAY,MAAZ,CAAmB,GAA3C,CADG,CAEH;AACJ;AACA;AACI;AACA;AACJ;AACI;AACA;AACJ;;;AACA,QAAI,YAAY,CAAC,GAAjB,EAAsB;AAClB,WAAK,SAAL,CAAe,GAAf,GAAqB,YAAY,CAAC,GAAlC;AACJ,KAFA,MAEO;AACH,MAAA,YAAY,CAAC,QAAb,GAAwB,KAAK,MAAL,CAAY,MAAZ,CAAmB,EAA3C,CADG,CAEH;AACJ;AACH,GA9CU;AA+CX,EAAA,OAAO,EAAE;AACL,IAAA,OAAO,EAAE,mBAAU;AAAA;;AACf,UAAG;AAAC,aAAK,cAAL,CAAoB,WAApB,CAAgC,YAAY,CAAC,GAA7C,EAAkD,IAAlD,CAAuD,UAAA,IAAG,EAAK;AACjE,cAAG,IAAI,CAAC,IAAL,CAAU,OAAV,CAAkB,CAAlB,KAAwB,IAA3B,EAAgC;AAC9B,YAAA,KAAI,CAAC,IAAL,GAAY,IAAI,CAAC,IAAL,CAAU,OAAtB;AACA,YAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,IAAjB;AACF;AACL,SALO;AAKL,OALC,CAKD,gBAAK;AAAC,QAAA,OAAO,CAAC,GAAR,CAAY,kBAAZ;AAAgC;AACxC,KARI;AASL,IAAA,OAAO,EAAE,mBAAU;AAAA;;AACf,UAAI,KAAK,KAAL,CAAW,GAAX,IAAkB,GAAtB,EAA0B;AAEtB,aAAK,cAAL,CAAoB,UAApB,CAA+B,KAAK,SAApC,EAA+C,IAA/C,CAAqD,UAAA,IAAG,EAAK;AACzD,UAAA,MAAI,CAAC,OAAL;;AACA,UAAA,MAAI,CAAC,SAAL,CAAe,UAAf,GAA4B,EAA5B;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACH,SAJD;AAKH,OAPD,MAOK;AACD,aAAK,OAAL,GAAe,IAAf;AACJ;AACH,KApBI;AAqBL,IAAA,KAAK,EAAE,iBAAU;AACb,WAAK,OAAL,GAAe,KAAf;AACJ;AAvBK;AA/CE,CAAf","sourcesContent":["<template>\n    <div>\n        <Dialog header=\"\" :visible=\"display\" >\n            Usted no posee los permisos para responder a esta pregunta\n            <Button label=\"Ok\" icon=\"pi pi-check\" @click=\"acept\" autofocus />\n        </Dialog>\n        <div class=\"forum-container\">\n            <h3>{{pregunta}}</h3>\n            <br>\n            <div>\n                <Textarea v-model=\"respuesta.descripAns\" rows=\"5\" cols=\"107\" placeholder=\"Escriba aqui su respuesta...\" />\n                <Button label=\"Responder\" class=\"p-button-sm\" @click=\"guardar\" style=\"font-weight: bold\"/> \n            </div>\n            <br>\n            <Panel v-if=\"rtas.length > 0 \" header=\"Respuestas\">\n                <div v-for=\"i in rtas\" :key=\"i\">\n                    <div style=\"display:flex; justify-content: space-between;\">\n                        <div style=\"margin: 10px\" align=\"left\">\n                            <b>{{i.nameUser}}</b>\n                        </div>\n                        <div align=\"right\" style=\"color: gray; margin: 10px\">\n                            {{i.dateAns}}\n                        </div>\n                    </div>\n                    <div>\n                        {{i.descripAns}}\n                    </div>\n                    <Divider align=\"right\">\n                        <Button label=\"Contactar a este abogado\" @click=\"$router.push({name: 'perfil' , params: {id : i.idUserA}})\" align=\"right\" style=\"font-weight: bold\"/>\n                    </Divider>\n                </div>\n            </Panel>\n            \n        </div>\n    </div>\n</template>\n\n<script>\nimport ForumController from '../controller/ForumController.js'\nexport default {\n    foroController: null,\n    created() {\n        this.foroController = new ForumController();\n        this.getCase();\n        console.log(this.$root.id);\n    },\n    data(){\n        return{\n            pregunta: '',\n            rtas: [\n                {\n                    nameUser: '',\n                    dateAns: '',\n                    descripAns: ''\n                }\n            ],\n            respuesta: {\n                idC: '',\n                idUserA: this.$root.id,\n                descripAns: '',\n                nameUser: this.$root.user\n            },\n            display: null\n        }\n    }, \n    mounted() {\n        if (localStorage.pregunta) {\n            this.pregunta = localStorage.pregunta;\n        } else {\n            localStorage.pregunta = this.$route.params.qtn;\n            //this.pregunta = this.$route.params.qtn;\n        }\n        /*if (localStorage.rtas) {\n            this.rtas = JSON.parse(localStorage.getItem(\"rtas\"));\n            //console.log(this.rtas);\n        } else {\n            localStorage.rtas = this.$route.params.rta;\n            //this.rtas = this.$route.params.rta;\n        }*/\n        if (localStorage.idC) {\n            this.respuesta.idC = localStorage.idC;\n        } else {\n            localStorage.pregunta = this.$route.params.id;\n            //this.pregunta = this.$route.params.qtn;\n        }\n    },\n    methods: {\n        getCase: function(){\n            try{this.foroController.getQuestion(localStorage.idC).then(data => {\n              if(data.data.answers[0] != null){\n                this.rtas = data.data.answers;\n                console.log(this.rtas);\n              }\n        })}catch{console.log(\"Error Connection\");}\n        },\n        guardar: function(){\n            if (this.$root.rol == \"L\"){\n                \n                this.foroController.saveAnswer(this.respuesta).then( data => {\n                    this.getCase();\n                    this.respuesta.descripAns = '';\n                    console.log(data);\n                })\n            }else{\n                this.display = true;\n            }\n        },\n        acept: function(){\n            this.display = false;\n        }\n    },\n}\n</script>"],"sourceRoot":""}]}