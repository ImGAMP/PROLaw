{"remainingRequest":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\PrincipalForum.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\PrincipalForum.vue","mtime":1627270937445},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1627159273000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly9pbXBvcnQgRmlsdGVyTWF0Y2hNb2RlIGZyb20gJ3ByaW1ldnVlL2FwaSc7Ci8vaW1wb3J0IG15anNvbiBmcm9tICcuLi9qc29ucy9Gb3JvLmpzb24nOwppbXBvcnQgRm9ydW1Db250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXIvRm9ydW1Db250cm9sbGVyLmpzJzsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gJ3ByaW1ldnVlL2FwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBmb3JvQ29udHJvbGxlcjogbnVsbCwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mb3JvQ29udHJvbGxlciA9IG5ldyBGb3J1bUNvbnRyb2xsZXIoKTsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5pbml0RmlsdGVyczEoKTsKCiAgICBpZiAobG9jYWxTdG9yYWdlLmluc2lkZSA9PSB0cnVlKSB7CiAgICAgIHRoaXMuJHJvb3QuaW5zaWRlID0gdHJ1ZTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRpbmcxID0gZmFsc2U7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYnVzcXVlZGE6ICcnLAogICAgICBjb21lbnRhcmlvOiB7CiAgICAgICAgaWRVc2VyQzogdGhpcy4kcm9vdC5pZCwKICAgICAgICBkZXNjcmlwQ2FzOiAnJywKICAgICAgICBuYW1lVXNlcjogdGhpcy4kcm9vdC51c2VyLAogICAgICAgIHRvcGljQ2FzOiAnJwogICAgICB9LAogICAgICBwcmVndW50YXM6IG51bGwsCiAgICAgIG51ZXZvOiBmYWxzZSwKICAgICAgZGlzcGxheTogbnVsbCwKICAgICAgZmlsdGVyczE6IG51bGwsCiAgICAgIGxvYWRpbmcxOiB0cnVlLAogICAgICBpbmZvOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vbGV0IHA7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5mb3JvQ29udHJvbGxlci5nZXRMaXN0KCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgX3RoaXMucHJlZ3VudGFzID0gZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgICAvKiBmb3IobGV0IGkgaW4gdGhpcy5wcmVndW50YXMpewogICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpLmlkc0Fucyk7CiAgICAgICAgICAgICAgIC8vbGV0IGF1eCA9IGkuaWRzQW5zLmxlbmd0aDsKICAgICAgICAgICAgICAgLy9pLmlkc0FucyA9IGF1eDsKICAgICAgICAgICB9Ki8KCiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5wcmVndW50YXMpOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChfdW51c2VkKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIENvbm5lY3Rpb24iKTsKICAgICAgfSAvL2xldCBwID0gdGhpcy5mb3JvQ29udHJvbGxlci5nZXRMaXN0KCk7CgogICAgfSwKICAgIHNlbGVjdGVkOiBmdW5jdGlvbiBzZWxlY3RlZChldmVudCkgewogICAgICAvL2NvbnNvbGUubG9nKGV2ZW50LmRhdGEpOwogICAgICBsb2NhbFN0b3JhZ2UucHJlZ3VudGEgPSBldmVudC5kYXRhLmRlc2NyaXBDYXM7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJydGFzIiwgSlNPTi5zdHJpbmdpZnkoZXZlbnQuZGF0YS5hbnN3ZXJzKSk7CiAgICAgIGxvY2FsU3RvcmFnZS5pZEMgPSBldmVudC5kYXRhLmlkQ2FzZTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdmb3JvJwogICAgICB9KTsKICAgIH0sCiAgICBhZ3JlZ2FyOiBmdW5jdGlvbiBhZ3JlZ2FyKCkgewogICAgICB0aGlzLm51ZXZvID0gdHJ1ZTsKICAgIH0sCiAgICBndWFyZGFyOiBmdW5jdGlvbiBndWFyZGFyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyb290Lmluc2lkZSkgewogICAgICAgIHRoaXMuZm9yb0NvbnRyb2xsZXIuc2F2ZVF1ZXN0aW9uKHRoaXMuY29tZW50YXJpbykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgLy90aGlzLiRyb290LmFjdHVhbGl6YXIoKTsKICAgICAgICAgIF90aGlzMi5nZXRMaXN0KCk7CgogICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5udWV2byA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlzcGxheSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBhY2VwdDogZnVuY3Rpb24gYWNlcHQoKSB7CiAgICAgIHRoaXMuZGlzcGxheSA9IGZhbHNlOwogICAgfSwKICAgIGluaXRGaWx0ZXJzMTogZnVuY3Rpb24gaW5pdEZpbHRlcnMxKCkgewogICAgICB0aGlzLmZpbHRlcnMxID0gewogICAgICAgICdnbG9iYWwnOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICAndG9waWNDYXMnOiB7CiAgICAgICAgICBvcGVyYXRvcjogRmlsdGVyT3BlcmF0b3IuQU5ELAogICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgICAgfV0KICAgICAgICB9LAogICAgICAgICdzdWJjYXRDYXMnOiB7CiAgICAgICAgICBvcGVyYXRvcjogRmlsdGVyT3BlcmF0b3IuQU5ELAogICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgICAgfV0KICAgICAgICB9LAogICAgICAgICdpZFVzZXJDJzogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5JTgogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\PrincipalForum.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <Dialog header=\"\" :visible=\"display\" >\n            Para preguntar por favor iniciar sesión<br><br>\n            <Button icon=\"pi pi-check\" label=\"Ok\" @click=\"acept\" autofocus />\n        </Dialog>\n        \n        <div class=\"pregunta-container\">\n                      \n            \n            <div v-if=\"nuevo\">\n                <br>\n                <Textarea v-model=\"comentario.topicCas\" rows=\"1\" cols=\"150\" placeholder=\"Asunto\" />\n                <Textarea v-model=\"comentario.descripCas\" rows=\"5\" cols=\"150\" placeholder=\"Escriba aquí su pregunta...\" />\n                <Button label=\"Publicar\" class=\"p-button-sm\" @click=\"guardar\" style=\"font-weight: bold\"/>\n                <Button label=\"Cancelar\" class=\"p-button-danger p-button-sm\" @click=\"{ this.nuevo=false;}\" style=\"font-weight: bold\"/>\n            </div>\n            <br>\n            <!-- Caja de búsqueda por tema\n            <DataTable :value=\"preguntas\" :paginator=\"true\" :rows=\"10\" selectionMode=\"single\" dataKey=\"id\"\n                    @rowSelect=\"selected\" responsiveLayout=\"scroll\" v-model:filters=\"filters\" filterDisplay=\"row\" :loading=\"loading\">\n                <template #empty>\n                    No customers found.\n                </template>\n                <template #loading>\n                    Loading customers data. Please wait.\n                </template>\n\n                <Column filterField=\"topicCas\" :filterMatchModeOptions=\"matchModeOptions\">\n                    <template #body=\"{data}\">\n                        <span class=\"\">{{data.country.name}}</span>\n                    </template>\n                    <template #filter=\"{filterModel,filterCallback}\">\n                        <InputText type=\"text\" v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\" :placeholder=\"`Search by country - ${filterModel.matchMode}`\" />\n                    </template>\n                </Column>-->\n            <DataTable :value=\"preguntas\" :paginator=\"true\" :rows=\"10\" selectionMode=\"single\" dataKey=\"id\"\n                    @rowSelect=\"selected\" :filters=\"filters1\" filterDisplay=\"menu\" :loading=\"loading1\" responsiveLayout=\"scroll\"\n                    :globalFilterFields=\"['topicCas', 'subcatCas','idUserC']\">\n                    \n                    <template #empty>\n                        No customers found.\n                    </template>\n                    <template #loading>\n                        Loading customers data. Please wait.\n                    </template>\n\n                <div style=\" display:flex; justify-content: space-between;\">\n                    <div style=\"margin: 10px\">                \n                        <Button label=\"Hacer una pregunta\" icon=\"pi pi-plus\" class=\"p-button-raised p-button-rounded p-button-secondary\" @click=\"agregar\" style=\"font-weight: bold\"/>\n                    </div>\n                    <div style=\"margin: 10px\">\n                        <!--<InputText id=\"busqueda\" type=\"text\" v-model=\"busqueda\" placeholder=\"Nueva Búsqueda\"/>-->\n                        <InputText v-model=\"filters1['global'].value\" placeholder=\"Nueva Búsqueda\" />\n                        <Button icon=\"pi pi-search\" />  \n                    </div>         \n                </div>\n\n                <Column field=\"topicCas\" header=\"Tema\" style=\"font-weight: bold\"></Column>\n                <Column field=\"dateAns\"  dataType=\"date\" style=\"min-width: 8rem\" header=\"Fecha\"></Column>\n                <Column field=\"idsAns\" header=\"Respuestas\"></Column>\n\n               \n                <Column field=\"nameUser\" header=\"Autor\">Nombre</Column>\n            </DataTable>\n    </div>\n    </div>\n</template>\n\n<script>\n//import FilterMatchMode from 'primevue/api';\n//import myjson from '../jsons/Foro.json';\nimport ForumController from '../controller/ForumController.js'\nimport {FilterMatchMode,FilterOperator} from 'primevue/api';\n\nexport default {\n    foroController: null,\n    created() {\n        this.foroController = new ForumController();\n        this.getList();\n        this.initFilters1();\n        if(localStorage.inside == true ){\n            this.$root.inside = true;\n        }\n    },\n    mounted() {        \n            this.loading1 = false;    \n        \n    },\n    data() {\n\t\treturn {\n\t\t\tbusqueda: '',\n            comentario: {\n                idUserC: this.$root.id,\n                descripCas: '',\n                nameUser: this.$root.user,\n                topicCas: ''\n                },\n            preguntas: null,\n            nuevo: false,\n            display: null,\n            filters1: null,\n            loading1: true,\n            info: null\n            \n\t\t}\n\t},\n    methods: {\n        getList: function(){\n        //let p;\n        try{this.foroController.getList().then(data => {\n              this.preguntas = data.data.data;\n             /* for(let i in this.preguntas){\n                  console.log(i.idsAns);\n                  //let aux = i.idsAns.length;\n                  //i.idsAns = aux;\n              }*/\n              console.log(this.preguntas);\n        })}catch{console.log(\"Error Connection\");}\n        //let p = this.foroController.getList();\n        \n        },\n\t\tselected: function(event){\n            //console.log(event.data);\n            localStorage.pregunta = event.data.descripCas;\n            localStorage.setItem(\"rtas\", JSON.stringify(event.data.answers) );\n            localStorage.idC = event.data.idCase;\n            this.$router.push({name: 'foro'});\n\n\t\t},\n        agregar: function(){\n            this.nuevo = true;\n        },\n        guardar: function(){\n            if (this.$root.inside){\n                \n                this.foroController.saveQuestion(this.comentario).then( data => {\n                    //this.$root.actualizar();\n                    this.getList();\n                    console.log(data);\n                })\n                this.nuevo=false;\n                \n            }else{\n                this.display = true;\n            }     \n        },\n        acept: function(){\n            this.display = false;\n        },\n        initFilters1() {\n            this.filters1 = {\n                'global': {value: null, matchMode: FilterMatchMode.CONTAINS},\n                'topicCas': {operator: FilterOperator.AND, constraints: [{value: null, matchMode: FilterMatchMode.STARTS_WITH}]},\n                'subcatCas': {operator: FilterOperator.AND, constraints: [{value: null, matchMode: FilterMatchMode.STARTS_WITH}]},\n                'idUserC': {value: null, matchMode: FilterMatchMode.IN}\n            }\n        }\n\t},\n}\n</script>"],"sourceRoot":""}]}