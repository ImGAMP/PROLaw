{"remainingRequest":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\Forum.vue?vue&type=template&id=649c4a52","dependencies":[{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\Forum.vue","mtime":1628037234353},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627159273000},{"path":"C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1627159273000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2PgogICAgICAgIDxEaWFsb2cgaGVhZGVyPSIiIDp2aXNpYmxlPSJkaXNwbGF5IiA+CiAgICAgICAgICAgIFVzdGVkIG5vIHBvc2VlIGxvcyBwZXJtaXNvcyBwYXJhIHJlc3BvbmRlciBhIGVzdGEgcHJlZ3VudGEKICAgICAgICAgICAgPEJ1dHRvbiBsYWJlbD0iT2siIGljb249InBpIHBpLWNoZWNrIiBAY2xpY2s9ImFjZXB0IiBhdXRvZm9jdXMgLz4KICAgICAgICA8L0RpYWxvZz4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3J1bS1jb250YWluZXIiPgogICAgICAgICAgICA8aDM+e3twcmVndW50YX19PC9oMz4KICAgICAgICAgICAgPGJyPgogICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPFRleHRhcmVhIHYtbW9kZWw9InJlc3B1ZXN0YS5kZXNjcmlwQW5zIiByb3dzPSI1IiBjb2xzPSIxMDciIHBsYWNlaG9sZGVyPSJFc2NyaWJhIGFxdWkgc3UgcmVzcHVlc3RhLi4uIiAvPgogICAgICAgICAgICAgICAgPEJ1dHRvbiBsYWJlbD0iUmVzcG9uZGVyIiBjbGFzcz0icC1idXR0b24tc20iIEBjbGljaz0iZ3VhcmRhciIgc3R5bGU9ImZvbnQtd2VpZ2h0OiBib2xkIi8+IAogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGJyPgogICAgICAgICAgICA8UGFuZWwgdi1pZj0icnRhcy5sZW5ndGggPiAwICYmIHJ0YXNbMF0ubmFtZVVzZXIgIT0gJyciIGhlYWRlcj0iUmVzcHVlc3RhcyI+CiAgICAgICAgICAgICAgICA8ZGl2IHYtZm9yPSJpIGluIHJ0YXMiIDprZXk9ImkiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbjogMTBweCIgYWxpZ249ImxlZnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+e3tpLm5hbWVVc2VyfX08L2I+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGFsaWduPSJyaWdodCIgc3R5bGU9ImNvbG9yOiBncmF5OyBtYXJnaW46IDEwcHgiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAge3tpLmRhdGVBbnN9fQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICB7e2kuZGVzY3JpcEFuc319CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPERpdmlkZXIgYWxpZ249InJpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBsYWJlbD0iQ29udGFjdGFyIGEgZXN0ZSBhYm9nYWRvIiBAY2xpY2s9IiRyb3V0ZXIucHVzaCh7bmFtZTogJ3BlcmZpbCcgLCBwYXJhbXM6IHtpZCA6IGkuaWRVc2VyQX19KSIgYWxpZ249InJpZ2h0IiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQiLz4KICAgICAgICAgICAgICAgICAgICA8L0RpdmlkZXI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9QYW5lbD4KICAgICAgICAgICAgCiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4K"},{"version":3,"sources":["C:\\Users\\fmoji\\Documents\\Prolaw\\PROLaw\\client\\src\\views\\Forum.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC;QACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACjC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACpE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC;YACH,CAAC,CAAC,CAAC,CAAC;gBACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBACzG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7F,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvE,CAA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","file":"C:/Users/fmoji/Documents/Prolaw/PROLaw/client/src/views/Forum.vue","sourceRoot":"","sourcesContent":["<template>\n    <div>\n        <Dialog header=\"\" :visible=\"display\" >\n            Usted no posee los permisos para responder a esta pregunta\n            <Button label=\"Ok\" icon=\"pi pi-check\" @click=\"acept\" autofocus />\n        </Dialog>\n        <div class=\"forum-container\">\n            <h3>{{pregunta}}</h3>\n            <br>\n            <div>\n                <Textarea v-model=\"respuesta.descripAns\" rows=\"5\" cols=\"107\" placeholder=\"Escriba aqui su respuesta...\" />\n                <Button label=\"Responder\" class=\"p-button-sm\" @click=\"guardar\" style=\"font-weight: bold\"/> \n            </div>\n            <br>\n            <Panel v-if=\"rtas.length > 0 && rtas[0].nameUser != ''\" header=\"Respuestas\">\n                <div v-for=\"i in rtas\" :key=\"i\">\n                    <div style=\"display:flex; justify-content: space-between;\">\n                        <div style=\"margin: 10px\" align=\"left\">\n                            <b>{{i.nameUser}}</b>\n                        </div>\n                        <div align=\"right\" style=\"color: gray; margin: 10px\">\n                            {{i.dateAns}}\n                        </div>\n                    </div>\n                    <div>\n                        {{i.descripAns}}\n                    </div>\n                    <Divider align=\"right\">\n                        <Button label=\"Contactar a este abogado\" @click=\"$router.push({name: 'perfil' , params: {id : i.idUserA}})\" align=\"right\" style=\"font-weight: bold\"/>\n                    </Divider>\n                </div>\n            </Panel>\n            \n        </div>\n    </div>\n</template>\n\n<script>\nimport ForumController from '../controller/ForumController.js'\nimport UserController from \"../controller/UserController.js\";\nimport emailjs from 'emailjs-com';\nexport default {\n    foroController: null,\n    created() {\n        this.foroController = new ForumController();\n        this.getCase();\n        console.log(this.$root.id);\n    },\n    data(){\n        return{\n            pregunta: '',\n            rtas: [\n                {\n                    nameUser: '',\n                    dateAns: '',\n                    descripAns: ''\n                }\n            ],\n            respuesta: {\n                id: '',\n                idC: '',\n                idUserA: this.$root.id,\n                descripAns: '',\n                nameUser: this.$root.user\n            },\n            display: null,\n            correo: ''\n        }\n    }, \n    mounted() {\n        if (localStorage.pregunta) {\n            this.pregunta = localStorage.pregunta;\n        } else {\n            localStorage.pregunta = this.$route.params.qtn;\n            //this.pregunta = this.$route.params.qtn;\n        }\n        /*if (localStorage.rtas) {\n            this.rtas = JSON.parse(localStorage.getItem(\"rtas\"));\n            //console.log(this.rtas);\n        } else {\n            localStorage.rtas = this.$route.params.rta;\n            //this.rtas = this.$route.params.rta;\n        }*/\n        if (localStorage.idC) {\n            this.respuesta.idC = localStorage.idC;\n        } else {\n            localStorage.pregunta = this.$route.params.id;\n            //this.pregunta = this.$route.params.qtn;\n        }\n    },\n    methods: {\n        getCase: function(){\n            try{this.foroController.getQuestion(localStorage.idC).then(data => {\n              if(data.data.answers[0] != null){\n                this.rtas = data.data.answers;\n                console.log(this.rtas);\n              }\n        })}catch{console.log(\"Error Connection\");}\n        },\n        guardar: function(){\n            if (this.$root.rol == \"L\"){\n                this.foroController.saveAnswer(this.respuesta).then( data => {\n                    this.getCase();\n                    this.sendEmail();\n                    this.respuesta.descripAns = '';\n                    console.log(data);\n                })\n            }else{\n                this.display = true;\n            }\n        },\n        acept: function(){\n            this.display = false;\n        },\n        sendEmail() {\n            emailjs.init('user_PuldBtDHzIERDbKP27eyT');\n            this.userController = new UserController();\n            try{this.userController.getFirst(this.$root.id).then(data => {\n                this.correo = data.data.user.email;\n                this.law = data.data.law;\n            })}catch{console.log(\"Error Connection\");}\n            try {\n                emailjs.send(\"service_0e62a5b\",\"template_nn1v3xc\",{\n                from: this.$root.user,\n                to_name: localStorage.idUserC,\n                reply_to: this.correo,\n                message: '\"' + this.pregunta + '\"'\n        })\n        } catch(error) {\n            console.log({error})\n        }}\n    },\n}\n</script>"]}]}